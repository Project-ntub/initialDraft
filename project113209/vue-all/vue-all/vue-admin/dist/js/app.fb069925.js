(function(){"use strict";var e={9489:function(e,t,n){var r=n(5130),a=n(6768);const o={id:"app"};function s(e,t,n,r,s,i){const u=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(u)])}var i={name:"App"},u=n(1241);const d=(0,u.A)(i,[["render",s]]);var c=d,l=n(973),v=n(4232);const b=e=>((0,a.Qi)("data-v-09a791fc"),e=e(),(0,a.jt)(),e),m={class:"container"},p=b((()=>(0,a.Lk)("h2",null,"登入",-1))),f=b((()=>(0,a.Lk)("input",{type:"hidden",name:"next",value:"/management"},null,-1))),h={class:"form-group"},g=b((()=>(0,a.Lk)("label",{for:"username"},"帳號:",-1))),k={class:"form-group"},y=b((()=>(0,a.Lk)("label",{for:"password"},"密碼:",-1))),C={class:"form-group"},L=b((()=>(0,a.Lk)("label",{for:"remember_me"},"記住我",-1))),w=b((()=>(0,a.Lk)("button",{type:"submit",class:"btn-login"},"登入",-1))),_={key:0};function A(e,t,n,o,s,i){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",m,[p,(0,a.Lk)("form",{onSubmit:t[3]||(t[3]=(0,r.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[f,(0,a.Lk)("div",h,[g,(0,a.bo)((0,a.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),required:""},null,512),[[r.Jo,s.username]])]),(0,a.Lk)("div",k,[y,(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),required:""},null,512),[[r.Jo,s.password]])]),(0,a.Lk)("div",C,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox",id:"remember_me","onUpdate:modelValue":t[2]||(t[2]=e=>s.rememberMe=e)},null,512),[[r.lH,s.rememberMe]]),L]),w],32),(0,a.Lk)("p",null,[(0,a.eW)(" 還未擁有帳號? "),(0,a.bF)(u,{to:"/register"},{default:(0,a.k6)((()=>[(0,a.eW)("註冊")])),_:1})]),(0,a.Lk)("p",null,[(0,a.eW)(" 忘記密碼? "),(0,a.bF)(u,{to:"/forgot_password"},{default:(0,a.k6)((()=>[(0,a.eW)("重置密碼")])),_:1})]),s.error?((0,a.uX)(),(0,a.CE)("p",_,(0,v.v_)(s.error),1)):(0,a.Q3)("",!0)])}n(4114);var S=n(4373);function O(e){let t=null;if(document.cookie&&""!==document.cookie){const n=document.cookie.split(";");for(let r=0;r<n.length;r++){const a=n[r].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}}return t}S.A.defaults.baseURL="http://localhost:8000",S.A.defaults.withCredentials=!0,S.A.interceptors.request.use((e=>{const t=O("csrftoken");return t&&(e.headers["X-CSRFToken"]=t),e}),(e=>Promise.reject(e)));var F=S.A,j={name:"AppLogin",data(){return{username:"",password:"",rememberMe:!1,error:""}},methods:{async login(){try{const e=x("csrftoken"),t=await F.post("/backend/login/",{username:this.username,password:this.password,remember_me:this.rememberMe},{headers:{"X-CSRFToken":e}});console.log("登入成功",t),t.data.success&&this.$router.push("/management")}catch(e){console.error("登入失败",e.response),e.response&&e.response.data?this.error=e.response.data.detail||"登入失败，请检查您的用户名和密码":this.error="登入失败，请稍后再试"}}}};function x(e){let t=null;if(document.cookie&&""!==document.cookie){const n=document.cookie.split(";");for(let r=0;r<n.length;r++){const a=n[r].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}}return t}const E=(0,u.A)(j,[["render",A],["__scopeId","data-v-09a791fc"]]);var T=E;const U=e=>((0,a.Qi)("data-v-28e5f59c"),e=e(),(0,a.jt)(),e),W=U((()=>(0,a.Lk)("div",{class:"hamburger-icon"},"☰",-1))),M=[W],R=U((()=>(0,a.Lk)("h2",null,"管理介面",-1)));function X(e,t,n,r,o,s){const i=(0,a.g2)("router-link"),u=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",{class:"hamburger-menu",onClick:t[0]||(t[0]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},M),(0,a.Lk)("div",{class:(0,v.C4)(["sidebar",{active:o.isSidebarActive}])},[R,(0,a.bF)(i,{to:"/dashboard"},{default:(0,a.k6)((()=>[(0,a.eW)("儀錶板管理")])),_:1}),(0,a.bF)(i,{to:"/user-management"},{default:(0,a.k6)((()=>[(0,a.eW)("用戶管理")])),_:1}),(0,a.bF)(i,{to:"/role-management"},{default:(0,a.k6)((()=>[(0,a.eW)("角色管理")])),_:1}),(0,a.bF)(i,{to:"/history"},{default:(0,a.k6)((()=>[(0,a.eW)("歷史紀錄")])),_:1}),(0,a.Lk)("button",{class:"logout-btn",onClick:t[1]||(t[1]=(...e)=>s.logout&&s.logout(...e))},"登出")],2),(0,a.Lk)("div",{class:(0,v.C4)(["main-content",{shifted:o.isSidebarActive}]),id:"main-content"},[(0,a.bF)(u)],2)])}var I={name:"AppManagement",data(){return{isSidebarActive:!1}},methods:{toggleSidebar(){this.isSidebarActive=!this.isSidebarActive},logout(){this.$router.push("/login")}}};const P=(0,u.A)(I,[["render",X],["__scopeId","data-v-28e5f59c"]]);var V=P;const $={class:"container"},q=(0,a.Fv)('<div class="header" data-v-9269a112><h2 data-v-9269a112>儀表板管理</h2><div class="buttons" data-v-9269a112><button data-v-9269a112>新增圖表</button><button data-v-9269a112>編輯圖表</button></div></div><div class="chart-grid" data-v-9269a112><div class="chart" data-v-9269a112><h3 data-v-9269a112>銷售額</h3><canvas id="salesChart" data-v-9269a112></canvas></div><div class="chart" data-v-9269a112><h3 data-v-9269a112>營業額</h3><canvas id="usersChart" data-v-9269a112></canvas></div><div class="chart" data-v-9269a112><h3 data-v-9269a112>庫存量</h3><canvas id="storageChart" data-v-9269a112></canvas></div><div class="chart" data-v-9269a112><h3 data-v-9269a112>其他圖表</h3><canvas id="otherChart" data-v-9269a112></canvas></div></div>',2),Q=[q];function B(e,t,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",$,Q)}var D=n(144),J=n(6912),G={name:"AppDashboard",setup(){const e=(0,D.KR)(null);return(0,a.sV)((()=>{const e=document.getElementById("myChart").getContext("2d");new J.t1(e,{type:"bar",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})})),{myChart:e}}};const H=(0,u.A)(G,[["render",B],["__scopeId","data-v-9269a112"]]);var K=H;const Y=[{path:"/",redirect:"/login"},{path:"/login",component:T},{path:"/management",component:V,children:[{path:"dashboard",component:K}]}],Z=(0,l.aE)({history:(0,l.LA)(),routes:Y});var z=Z,N=n(782);const ee=(0,N.y$)({state:{token:null,user:null},mutations:{setToken(e,t){e.token=t},setUser(e,t){e.user=t}},actions:{setToken({commit:e},t){e("setToken",t)},setUser({commit:e},t){e("setUser",t)}}});var te=ee;(0,r.Ef)(c).use(z).use(te).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var s=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var i=!0,u=0;u<r.length;u++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,s=r[0],i=r[1],u=r[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(u)var c=u(n)}for(t&&t(r);d<s.length;d++)o=s[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkadmin_frontend"]=self["webpackChunkadmin_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(9489)}));r=n.O(r)})();
//# sourceMappingURL=app.fb069925.js.map